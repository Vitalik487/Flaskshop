{% macro render_input_field(field) %}
{% set label_id = field.label.field_id %}
{% if label_id in ('email', 'password') %}
{% set type = label_id %}
{% else %}
{% set type = 'text' %}
{% endif %}
<div class="form-group">
    <label for="{{label_id}}">{{ field.label.text }}</label>
    <input type="{{type}}" class="form-control" id="{{label_id}}" name="{{label_id}}" value="{% if field.data %}{{ field.data }}{% elif field.default is not none %}{{field.default}}{% endif %}">
    {% if field.errors %}
    <div class="invalid-feedback" style="display:block">
        {{ field.errors[0] }}
    </div>
    {% endif %}
</div>
{% endmacro %}


{% macro render_submit(field) %}
<button type="submit" class="btn btn-primary">{{ field.label.text }}</button>
<button onclick="window.history.go(-1); return false;" class="btn btn-default float-right">Cancel</button>
{% endmacro %}

{% macro render_select_field(field, items) %}
{% set label_id = field.label.field_id %}
<div class="form-group">
    <label>{{ field.label.text }}</label>
    <select class="form-control select2" style="width: 100%;" name="{{ label_id }}">
        <option value="0">None</option>
        {% for item in items %}
        <option value="{{ item.id }}" {% if item.id==field.data|int %} selected {% endif %}>
            {{ item.title }}
        </option>
        {% endfor %}
    </select>
</div>
{% endmacro %}

{% macro render_select_multi_field(field, items) %}
{% set label_id = field.label.field_id %}
<div class="form-group">
    <label>{{ field.label.text }}</label>
    <select class="form-control select2" style="width: 100%;" name="{{ label_id }}" multiple="multiple">
        {% for item in items %}
        <option value="{{ item.id }}" {% if item.title in field.data %} selected {% endif %}>
            {{ item.title }}
        </option>
        {% endfor %}
    </select>
</div>
{% endmacro %}

{% macro render_radio_field(field) %}
{% set label_id = field.label.field_id %}
<div class="form-group">
    <label>{{ field.label.text }}</label>
    {% for item in field.choices %}
    <div class="form-check">
        <input class="form-check-input" type="radio" value="{{item[0]}}" name="{{ label_id }}" {% if item[0]==field.data
            %} checked {% endif %}>
        <label class="form-check-label">{{item[1]}} </label>
    </div>
    {% endfor %}
</div>
{% endmacro %}

{% macro render_boolean_field(field, text='Yes') %}
<div class="form-group">
    <label>{{ field.label.text }}</label>
    <div class="form-check">
        {{field()}} {{text}}
    </div>
</div>
{% endmacro %}

{% macro render_field_list(field,field_name) %}
<div class="form-group">
    {{ field_name }}
    {% for subfield in field %}
    <div class="base_class{% if subfield.errors %} error_class{% endif %}" id="{{subfield.name}}-group">
        {{ subfield(**kwargs)|safe }}
        <button data-field="{{ subfield.name }}-group">Remove Entry</button>
    </div>
    {% if subfield.errors %}
    {% for error in subfield.errors %}
    <p class="error_class">{{ error }}</p>
    {% endfor %}
    {% endif %}

    {% endfor %}
    <br />
    <!-- TODO -->
    <button type="button">Add entry</button>
</div>
{% endmacro %}

{% macro render_boolean(field) %}
{% if field %}
<i class="fa fa-check" style="color:green"></i>
{% else %}
<i class="fa fa-times" style="color:red"></i>
{% endif %}
{% endmacro %}

{% macro render_file_field(file_field, path_field) %}
{% set label_id = file_field.label.field_id %}
<div class="form-group">
    {% if path_field.data %}
    <label>{{ path_field.label.text }}</label>
    <img class="" style="width: 900px;" src="{{ url_for('static', filename=path_field.data) }}">
    {% endif %}
    <p></p>
    <label>{{ file_field.label.text }}</label>
    <input type="file" name="{{label_id}}" />
</div>
{% endmacro %}